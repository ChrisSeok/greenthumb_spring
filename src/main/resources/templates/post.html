<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link th:href="@{/css/bootstrap.min.css}"
          href="../css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&family=Ubuntu:wght@500&display=swap" rel="stylesheet">
    <style>
        /*.container{*/
        /*    max-width: 700px;*/
        /*}*/

        .field-error {
            border-color: #dc3545;
            color: #dc3545;
        }

        * {
            font-family: 'Noto Sans KR', sans-serif;
        }

    </style>
</head>
<body>

<div style="margin-top: 10px">
    <span class="mx-3" th:text="|${user}님 안녕하세요!|"></span>
    <a href="/" class="btn btn-outline-dark btn-sm">Home</a>
    <a href="/logout" class="btn btn-outline-dark btn-sm">로그아웃</a>
</div>

<div class="container">

    <div class="py-5 text-center">
        <h2>게시글</h2>
    </div>



    <div>
        <label for="category">카테고리</label>
        <input style="width: 300px" type="text" id="category" name="category" class="form-control"
               value="1" th:value="${post.category}" readonly>
    </div>

    <div>
        <label for="writer">작성자</label>
        <input style="width: 300px" type="text" id="writer" name="writer" class="form-control"
               value="작성자" th:value="${post.user.username}" readonly>
    </div>

    <div>
        <label for="postTitle">제목</label>
        <input type="text" id="postTitle" name="postTitle" class="form-control"
               value="제목" th:value="${post.title}" readonly>
    </div>



    <div>
        <label for="postContent">내용</label>
        <textarea class="form-control" rows="5"
                  id="postContent" name="postContent"
                  th:value="${post.content}" th:text="${post.content}" readonly></textarea>
    </div>

    <div>
        <label for="registerDate">작성일</label>
        <input type="text" id="registerDate" name="registerDate" class="form-control"
               value="작성자" th:value="${post.created}" readonly>
    </div>

    <div th:if="${post.fileId != null}">
        첨부파일 :
        <a
                th:class="card-text"
                th:href="@{'/download/' + ${post.fileId}}"
                th:text="${file.origFilename}"
        ></a>
    </div>


    <div class="d-flex justify-content-center">

        <button class="btn btn-success"
            th:onclick="|location.href='@{/post/{postId}/update(postId=${post.id})}'|"
            type="button">수정</button>
        <div style="width: 6px"></div>


        <button class="btn btn-outline-dark"
            th:onclick="|location.href='@{/post/{postId}/delete(postId=${post.id})}'|"
            type="button">삭제</button>

        <div style="width: 6px"></div>

        <button class="btn btn-outline-dark" th:if="${post.category.toString().equals('질문게시판')}"  th:onclick="|location.href='@{/questionList}'|">목록으로</button>
        <button class="btn btn-outline-dark" th:if="${post.category.toString().equals('나눔게시판')}"  th:onclick="|location.href='@{/sharingList}'|">목록으로</button>

    </div>

    <hr class="my-4">


    <form class="input-group mb-3" id="reply" th:action='@{/comment/create/{postId}(postId=${post.id})}' method="post">
        <input type="text" id="comment" name="comment" class="form-control" placeholder="댓글을 입력해주세요.." aria-label="댓글을 입력해주세요.." aria-describedby="basic-addon2">
        <input type="hidden" id="postId" name="postId" th:value="${post.id}">
        <button class="btn btn-outline-secondary" type="submit">등록</button>
    </form>


<!--        <div class="input-group mb-3">-->
<!--            <input type="text" class="form-control" placeholder="Recipient's username" aria-label="Recipient's username" aria-describedby="button-addon2">-->
<!--            <button class="btn btn-outline-secondary" type="button" id="button-addon2">Button</button>-->
<!--        </div>-->

    <div th:if="${comments != null}">
        <tr th:each="c : ${comments}">
            <td>
<!--                <div class="card">-->
<!--                    <h5 class="card-header" th:text="${c.username}">Featured</h5>-->
<!--                    <div class="card-body">-->
<!--&lt;!&ndash;                        <h5 class="card-title">Special title treatment</h5>&ndash;&gt;-->
<!--                        <p class="card-text" th:text="${c.comment}">With supporting text below as a natural lead-in to additional content.</p>-->
<!--                    </div>-->
<!--                </div>-->

                <div class="card">
                    <div class="card-header" th:text="${c.username}">
                        Quote
                    </div>
                    <div class="card-body">
                        <blockquote class="blockquote mb-0">
                            <p class="card-text" th:text="${c.comment}">With supporting text below as a natural lead-in to additional content.</p>
                            <footer class="blockquote-footer" th:text="${c.created}">Someone famous in </footer>
                        </blockquote>
                    </div>
                </div>


                <div style="height: 6px"></div>

            </td>

    </div>





<!--    <div th:if="${comments != null}">-->
<!--        <tr th:each="c : ${comments}">-->
<!--            <td th:text="${c.id}"></td>-->
<!--            <td th:text="${c.comment}"></td>-->
<!--            <td th:text="${c.username}"></td>-->
<!--    </div>-->
</div> <!-- /container -->

</body>